"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9889],{22462:function(e,t,r){r.d(t,{z:function(){return S}});var a=r(85893),l=r(89838),n=r(45007),s=r(776),i=r(33303),o=r(11109),c=r.n(o),u=r(5152),d=r.n(u),p=r(41664),x=r.n(p),f=r(28677),h=r(67294),m=r(95237),b=r(36492);async function y(){try{let e=await fetch("/api/auth");if(204===e.status)return;if(!e.ok&&401!==e.status)throw Error("Network response was not ok.");return await e.json()}catch(e){if(e instanceof Error)throw Error("Error fetching data: ",e)}}var g=r(98849),v=r(57808),j=r(44137);let w=d()(()=>r.e(5162).then(r.t.bind(r,65162,23)),{loadableGenerated:{webpack:()=>[65162]}}),N=d()(()=>r.e(2634).then(r.t.bind(r,82634,23)),{loadableGenerated:{webpack:()=>[82634]}}),k=d()(()=>r.e(3022).then(r.t.bind(r,13022,23)),{loadableGenerated:{webpack:()=>[13022]}}),_=d()(()=>r.e(926).then(r.t.bind(r,80926,23)),{loadableGenerated:{webpack:()=>[80926]}});function S(e){let{audio:t,audioChapterInfo:r,audioVersionInfo:o,bibleVersionId:u,book:d,chapter:p,isPlanDay:S,local_abbreviation:E,local_title:I,versionId:C,versionLocale:F}=e,{t:T}=(0,f.$G)("bible-chapter"),z=(0,h.useRef)(null),{data:G}=(0,b.a)(["userData"],y),{data:D}=(0,g.Z)(),J=(0,h.useId)(),[P,R]=(0,h.useState)(0),[B,W]=(0,h.useState)(!1),[O,U]=(0,h.useState)(1),[V,X]=(0,h.useState)(null),[$,A]=(0,h.useState)(null),{styles:K,attributes:L}=(0,m.D)(V,$),M=t&&null!==r,Y=null==r?void 0:r[0],Z=null==Y?void 0:Y.id,q=null==Y?void 0:Y.download_urls,H=async()=>{try{var e,t;(null==z?void 0:z.current)&&(await z.current.play(),W(!0)),(0,v.B)({event:"PlayAudio",audio_bible_id:null==o?void 0:o.id.toString(),book:d,chapter:p,version_id:u,app_language:F,user_id:null!==(t=null==G?void 0:null===(e=G.id)||void 0===e?void 0:e.toString())&&void 0!==t?t:null,yv_iid:null!=D?D:null})}catch(e){}},Q=()=>{(null==z?void 0:z.current)&&(z.current.pause(),W(!1))},ee=async()=>{var e,t;null===(e=z.current)||void 0===e||e.pause(),(null==z?void 0:z.current)&&(z.current.currentTime+=30),await (null===(t=z.current)||void 0===t?void 0:t.play())},et=async()=>{var e,t;null===(e=z.current)||void 0===e||e.pause(),(null==z?void 0:z.current)&&(z.current.currentTime-=30),await (null===(t=z.current)||void 0===t?void 0:t.play())};function er(){(null==z?void 0:z.current)&&R(z.current.currentTime/z.current.duration*100)}let ea=e=>{var t;let r=(null===(t=e.nativeEvent)||void 0===t?void 0:t.offsetX)/e.currentTarget.offsetWidth*100;if(R(r),null==z?void 0:z.current){let e=isNaN(z.current.duration)?0:z.current.duration,t=isNaN(r)?0:r;z.current.currentTime=e*t/100}};async function el(){var e,t,r;B?(null===(e=z.current)||void 0===e||e.pause(),await (null===(t=z.current)||void 0===t?void 0:t.play())):null===(r=z.current)||void 0===r||r.pause()}let en=e=>{(null==z?void 0:z.current)&&(z.current.playbackRate=e,U(e))},es=[.75,1,1.5,2],ei=2*Math.PI*15,eo=ei-P/100*ei;return(0,a.jsx)(l.J,{children:e=>{let{close:t,open:u}=e;return(0,a.jsxs)(a.Fragment,{children:[M&&q&&Z?(0,a.jsx)(s.LK,{audioRef:z,bibleVersionId:Z,usfm:"".concat(d,".").concat(p),children:(0,a.jsx)("audio",{onEnded:()=>W(!1),onTimeUpdate:er,preload:"none",ref:z,src:"https:".concat(r[0].download_urls.format_mp3_32k)})}):null,(0,a.jsx)(l.J.Button,{"aria-label":T("audio"),className:"plb-1 pli-1 flex justify-center items-center justify-items-center ".concat(M?" cursor-pointer":" cursor-not-allowed"),disabled:!M,ref:X,children:S?(0,a.jsx)(i.xu,{className:"border-small border-gray-15 rounded-full p-1 ".concat(M?"bg-white":"bg-gray-10"),children:(0,a.jsx)(c(),{className:M?"text-gray-50":"text-gray-25",title:T("audio"),titleId:J})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c(),{className:"h-2 w-2 ".concat(M?"text-gray-50":"text-gray-10"),title:T("audio"),titleId:J}),(0,a.jsxs)("svg",{className:"absolute h-4 w-4 transform -rotate-90-16-16",children:[(0,a.jsx)("circle",{cx:16,cy:16,fill:"transparent",r:15,stroke:"#EDEFEF",strokeWidth:1}),(0,a.jsx)("circle",{cx:16,cy:16,fill:"transparent",r:15,stroke:"#000",strokeDasharray:"".concat(ei," ").concat(ei),strokeWidth:2,style:{strokeDashoffset:isNaN(eo)?"94.24777960769379":eo},transform:"rotate(-90 ".concat(16," ",16,")")})]})]})}),(0,a.jsx)(n.u,{className:"w-full",enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:(0,a.jsx)(l.J.Panel,{className:"bg-white shadow-light-2 rounded-1 overflow-hidden mbs-2 w-[90vw] md:w-[350px] relative flex flex-col z-popover",ref:A,static:!0,style:K.popper,...L.popper,children:u&&M?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.xu,{className:"bg-gray-10 plb-1 pli-1 items-center justify-center flex justify-items-center",children:[(0,a.jsx)("button",{className:"flex md:hidden text-gray-50 text-13 uppercase absolute left-0 pis-1",onClick:t,children:T("cancel")}),(0,a.jsx)(i.xv,{className:"text-gray-50",size:"sm",variant:"label",children:T("audio")})]}),(0,a.jsxs)(i.xu,{className:"flex items-center justify-center plb-4 pli-4 text-center flex-col",children:[(0,a.jsx)(i.X6,{className:"font-medium text-blue-30 pbe-2 text-19",children:(0,a.jsx)(x(),{className:"no-underline",href:(0,j.Rt)(C,E,I),children:r[0].title})}),(null==o?void 0:o.copyright_short.text)?(0,a.jsx)(i.xv,{className:"text-gray-50 pbe-2",size:"xs",variant:"paragraph",children:o.copyright_short.text}):null,(0,a.jsxs)(i.xu,{className:"flex items-center gap-4 justify-center pbe-3 w-full",children:[(0,a.jsx)("button",{className:"flex items-center justify-center",onClick:et,children:(0,a.jsx)(w,{className:"h-4 w-4 text-gray-40",title:T("rewind"),titleId:T("rewind")})}),B?(0,a.jsx)(i.zx,{className:"group hover:bg-gray-40 active:bg-gray-40 inline-flex items-center justify-center plb-2 pli-2 rounded-4 bg-gray-40 max-h-full",onClick:Q,children:(0,a.jsx)(k,{className:"group-hover:bg-gray-40 h-4 w-full text-white bg-gray-40",title:T("pause"),titleId:T("pause")})}):(0,a.jsx)(i.zx,{className:"group hover:bg-gray-40 text-gray-40 active:bg-gray-40 inline-flex items-center justify-center plb-2 pis-3 pie-2 rounded-4 bg-gray-40 max-h-full",onClick:H,children:(0,a.jsx)(_,{className:"group-hover:bg-gray-40 h-4 w-full text-white bg-gray-40",title:T("play"),titleId:T("play")})}),(0,a.jsx)("button",{className:"flex items-center justify-center",onClick:ee,children:(0,a.jsx)(N,{className:"h-4 w-4 text-gray-40",title:T("fast_forward"),titleId:T("fast_forward")})})]}),(0,a.jsx)(i.xu,{className:"relative rounded-1 bg-gray-10 cursor-pointer h-1 w-full mbe-3",onClick:ea,onPointerUp:el,children:(0,a.jsx)("button",{className:"absolute top-0 left-0 h-full bg-yv-red rounded-1",style:{width:isNaN(P)?0:P+"%"}})}),(0,a.jsx)(i.sY,{defaultValue:es.indexOf(O),onChange:e=>en(es[e]),values:es.map(e=>T("audio_playback_speed",{playback_speed:e}))})]})]}):null})})]})}})}},88793:function(e,t,r){r.d(t,{O:function(){return h}});var a=r(85893),l=r(89838),n=r(45007),s=r(33303),i=r(46594),o=r.n(i),c=r(5152),u=r.n(c),d=r(28677),p=r(67294),x=r(95237);let f=u()(()=>r.e(9201).then(r.bind(r,39201)).then(e=>e.ReaderSettingsContent),{loadableGenerated:{webpack:()=>[39201]}});function h(e){let{isPlanDay:t,showBibleSettings:r=!0}=e,{t:i}=(0,d.$G)("bible-chapter"),c=(0,p.useId)(),[u,h]=(0,p.useState)(null),[m,b]=(0,p.useState)(null),{styles:y,attributes:g}=(0,x.D)(u,m),v="flex text-gray-50 p-1 ".concat(t?"border-small border-gray-15 rounded-full":"");return(0,a.jsx)(l.J,{children:e=>{let{open:u}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.J.Button,{className:v,ref:h,children:(0,a.jsx)(s.xu,{className:"border-small border-gray-15 rounded-3 p-0.5",children:(0,a.jsx)(o(),{className:t?"":"h-3 w-3",title:i("reader_settings"),titleId:"".concat(c,"_readerSettings")})})}),(0,a.jsx)(n.u,{className:"w-full",enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:(0,a.jsx)(l.J.Panel,{className:"bg-white shadow-light-2 rounded-1 overflow-hidden mbs-1 w-[90vw] md:w-[350px] relative flex flex-col z-popover",ref:b,static:!0,style:y.popper,...g.popper,children:u?(0,a.jsx)(f,{showBibleSettings:r}):null})})]})}})}}}]);